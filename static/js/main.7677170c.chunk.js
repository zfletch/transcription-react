(this["webpackJsonptranscription-react"]=this["webpackJsonptranscription-react"]||[]).push([[0],[,,,function(e,t,n){e.exports={xml:"Xml_xml__1n50u",bracket:"Xml_bracket__rKg-A",element:"Xml_element__3P9um",attribute:"Xml_attribute__n_pW3",attributeText:"Xml_attributeText__2X5Ok"}},function(e,t,n){e.exports={viewer:"Viewer_viewer__1Spx5",box:"Viewer_box__3pcwy",select:"Viewer_select__il19s"}},,function(e,t,n){e.exports={navigator:"Navigator_navigator__3gcbv",image:"Navigator_image__3ITwa"}},,function(e,t,n){e.exports={editor:"Editor_editor__2aEyo"}},function(e,t,n){e.exports={scrollbox:"ScrollBox_scrollbox__FX24s"}},function(e,t,n){e.exports={transcription:"App_transcription__1Qfh6"}},,,,,,function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),i=n.n(s),a=n(7),r=n.n(a),o=Object(s.createContext)();o.displayName="TranscriptionContext";var u=o,b=n(8),j=n.n(b),l=function(e){var t=e.boxes,n=e.setBoxes,s=t[t.length-1];return Object(c.jsxs)("div",{className:j.a.editor,children:["Text:",Object(c.jsx)("input",{type:"text",onChange:function(e){var c=e.target.value,i=t.slice(0,-1).concat({x:s.x,y:s.y,height:s.height,width:s.width,text:c});n(i)},value:s.text||""})]})},h=function(){return Object(c.jsx)(u.Consumer,{children:function(e){var t=e.boxes,n=e.setBoxes;return Object(c.jsx)(l,{boxes:t,setBoxes:n})}})},x=n(2),f=n(9),O=n.n(f),d=function(e,t){return e>t?e:t},m=function(e,t){return e<t?e:t},v=function(e,t,n,c,s,i,a,r,o){return c?{left:e*(i/c)+r,top:t*(i/c)+o,width:"".concat(i/n,"px"),height:"".concat(s/n/c*i,"px")}:{}},g=function(e){var t=e.x,n=e.y,i=e.zoom,a=e.width,r=e.height,o=e.localWidth,u=e.localHeight,b=e.offsetLeft,j=e.offsetTop,l=e.setX,h=e.setY,f=Object(s.useState)(!1),g=Object(x.a)(f,2),p=g[0],w=g[1],_=Object(s.useState)(null),y=Object(x.a)(_,2),S=y[0],N=y[1],X=Object(s.useState)(null),k=Object(x.a)(X,2),z=k[0],E=k[1],M=function(e){var t=e.screenX,n=e.screenY;if(p){var c=o/i,s=r/i/a*o,j=(2*b+o)/o,x=m(d(t*j-S,0),a/o*(o-c)),f=m(d(n*j-z,0),a/o*(u-s));l(x),h(f)}};return Object(s.useEffect)((function(){var e=function(){return w(!1)};return window.addEventListener("mouseup",e),function(){window.removeEventListener("mouseup",e)}}),[]),Object(s.useEffect)((function(){return window.addEventListener("mousemove",M),function(){window.removeEventListener("mousemove",M)}}),[p]),Object(s.useEffect)((function(){var e=o/i,c=r/i/a*o,s=m(d(t,0),a/o*(o-e)),b=m(d(n,0),a/o*(u-c));s===t&&b===n||(l(s),h(b))}),[u,o,b,j]),Object(c.jsx)("div",{style:v(t,n,i,a,r,o,0,b,j),className:O.a.scrollbox,onMouseDown:function(e){var c=e.screenX,s=e.screenY,i=(2*b+o)/o;N(c*i-t),E(s*i-n),w(!0)}})},p=n(6),w=n.n(p),_=function(e){var t=e.image,n=e.x,i=e.y,a=e.zoom,r=e.width,o=e.height,u=e.setX,b=e.setY,j=e.setRatio,l=Object(s.useRef)(null),h=Object(s.useRef)(null),f=Object(s.useState)(null),O=Object(x.a)(f,2),d=O[0],m=O[1],v=Object(s.useState)(null),p=Object(x.a)(v,2),_=p[0],y=p[1],S=Object(s.useState)(null),N=Object(x.a)(S,2),X=N[0],k=N[1],z=Object(s.useState)(null),E=Object(x.a)(z,2),M=E[0],W=E[1];return Object(s.useEffect)((function(){var e=l.current,t=h.current,n=function(){var e=t.clientHeight,n=t.clientWidth,c=t.offsetLeft,s=t.offsetTop;m(e),y(n),k(c),W(s),j(e/n)};n();var c=new ResizeObserver(n);return c.observe(e),c.observe(t),function(){c.unobserve(e),c.unobserve(t)}}),[]),Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:w.a.navigator,ref:l,children:[Object(c.jsx)("img",{src:t,ref:h,className:w.a.image}),Object(c.jsx)(g,{x:n,y:i,zoom:a,width:r,height:o,localHeight:d,localWidth:_,setX:u,setY:b,offsetLeft:X,offsetTop:M})]})})},y=function(){return Object(c.jsx)(u.Consumer,{children:function(e){var t=e.image,n=e.x,s=e.y,i=e.zoom,a=e.height,r=e.width,o=e.setX,u=e.setY,b=e.setRatio;return Object(c.jsx)(_,{image:t,x:n,y:s,zoom:i,height:a,width:r,setX:o,setY:u,setRatio:b})}})},S=n(4),N=n.n(S),X=function(e){var t=e.image,n=e.x,i=e.y,a=e.width,r=(e.height,e.zoom),o=e.boxes,u=e.ratio,b=e.setWidth,j=e.setHeight,l=e.setBoxes,h=Object(s.useState)(!1),f=Object(x.a)(h,2),O=f[0],d=f[1],m=Object(s.useState)(null),v=Object(x.a)(m,2),g=v[0],p=v[1],w=Object(s.useState)(null),_=Object(x.a)(w,2),y=_[0],S=_[1],X=Object(s.useState)(0),k=Object(x.a)(X,2),z=k[0],E=k[1],M=Object(s.useState)(0),W=Object(x.a)(M,2),Y=W[0],B=W[1],R=Object(s.useRef)(null);Object(s.useEffect)((function(){var e=R.current,t=function(){var t=e.clientHeight,n=e.clientWidth;j(t),b(n)},n=new ResizeObserver(t);return t(),n.observe(e),function(){n.unobserve(e)}}),[]);var H={backgroundImage:"url(".concat(t,")"),backgroundPosition:"-".concat(r*n,"px -").concat(r*i,"px"),backgroundSize:"".concat(100*r,"%")};return Object(c.jsxs)("div",{ref:R,className:N.a.viewer,style:H,onMouseDown:function(e){var t=e.clientX,n=e.clientY;p(t-10),S(n-10),d(!0)},onMouseMove:function(e){var t=e.clientX,n=e.clientY;O&&(E(t-g-10),B(n-y-10))},onMouseUp:function(){if(Y&&z){var e=Y<0?y+Y:y,t=z<0?g+z:g,c=o.concat({y:(e+i*r)/(a*u*r),x:(t+n*r)/(a*r),height:Math.abs(Y)/(a*u*r),width:Math.abs(z)/(a*r)});l(c),d(!1),E(null),B(null)}},children:[function(){if(!O)return!1;var e={top:Y<0?y+Y:y,left:z<0?g+z:g,height:"".concat(Math.abs(Y),"px"),width:"".concat(Math.abs(z),"px")};return Object(c.jsx)("div",{style:e,className:N.a.select})}(),o.map((function(e,t){return function(e,t){var s=e.x,o=e.y,b=e.width,j=e.height,l={top:"".concat(o*u*a*r-i*r,"px"),left:"".concat(s*a*r-n*r,"px"),width:"".concat(b*a*r,"px"),height:"".concat(j*u*a*r,"px")};return Object(c.jsx)("div",{className:N.a.box,style:l},t)}(e,t)}))]})},k=function(){return Object(c.jsx)(u.Consumer,{children:function(e){var t=e.image,n=e.x,s=e.y,i=e.width,a=e.height,r=e.ratio,o=e.zoom,u=e.boxes,b=e.setWidth,j=e.setHeight,l=e.setBoxes;return Object(c.jsx)(X,{image:t,x:n,y:s,width:i,height:a,zoom:o,ratio:r,boxes:u,setWidth:b,setHeight:j,setBoxes:l})}})},z=function(e){var t=e.image,n=e.className,i=e.children,a=Object(s.useState)(0),r=Object(x.a)(a,2),o=r[0],b=r[1],j=Object(s.useState)(0),l=Object(x.a)(j,2),h=l[0],f=l[1],O=Object(s.useState)(0),d=Object(x.a)(O,2),m=d[0],v=d[1],g=Object(s.useState)(0),p=Object(x.a)(g,2),w=p[0],_=p[1],y=Object(s.useState)(1),S=Object(x.a)(y,2),N=S[0],X=S[1],k=Object(s.useState)(2),z=Object(x.a)(k,2),E=z[0],M=z[1],W=Object(s.useState)([{x:.113,y:.0867,width:.0706,height:.0481},{x:.294,y:.1554,width:.1657,height:.0128}]),Y=Object(x.a)(W,2),B=Y[0],R=Y[1];return Object(c.jsx)(u.Provider,{value:{image:t,x:o,y:h,zoom:E,height:m,width:w,ratio:N,boxes:B,setX:b,setY:f,setZoom:M,setHeight:v,setWidth:_,setRatio:X,setBoxes:R},children:Object(c.jsx)("div",{className:n,children:i})})},E=n(3),M=n.n(E),W=function(e){var t=e.boxes;return Object(c.jsx)("div",{className:M.a.xml,children:t.map((function(e,t){var n,s=e.x,i=e.y,a=e.width,r=e.height,o=e.text;return Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{className:M.a.bracket,children:"<w"})," ",Object(c.jsx)("span",{className:M.a.element,children:'facs="urn:cite:perseus:miscellanyimgs.UWDkbqJfqQc@'.concat((n={x:s,y:i,width:a,height:r},[n.x,n.y,n.width,n.height].map((function(e){return e.toFixed(4)})).join(",")),'"')}),Object(c.jsx)("span",{className:M.a.bracket,children:">"}),!!o&&Object(c.jsx)("br",{}),!!o&&Object(c.jsx)(c.Fragment,{children:"\xa0\xa0"}),o,!!o&&Object(c.jsx)("br",{}),Object(c.jsx)("span",{className:M.a.bracket,children:"</w>"})]},t)}))})},Y=function(){return Object(c.jsx)(u.Consumer,{children:function(e){var t=e.boxes;return Object(c.jsx)(W,{boxes:t})}})},B=n(10),R=n.n(B),H=n.p+"static/media/latin.13f66406.jpg",T=function(){return Object(c.jsxs)(z,{className:R.a.transcription,image:H,children:[Object(c.jsx)(k,{}),Object(c.jsx)(h,{}),Object(c.jsx)(y,{}),Object(c.jsx)(Y,{})]})};r.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(T,{})}),document.getElementById("root"))}],[[16,1,2]]]);
//# sourceMappingURL=main.7677170c.chunk.js.map