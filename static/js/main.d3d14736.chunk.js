(this["webpackJsonptranscription-react"]=this["webpackJsonptranscription-react"]||[]).push([[0],[,,,function(e,t,n){e.exports={xml:"Xml_xml__1n50u",bracket:"Xml_bracket__rKg-A",element:"Xml_element__3P9um",attribute:"Xml_attribute__n_pW3",attributeText:"Xml_attributeText__2X5Ok"}},function(e,t,n){e.exports={viewer:"Viewer_viewer__1Spx5",box:"Viewer_box__3pcwy",select:"Viewer_select__il19s"}},,function(e,t,n){e.exports={container:"Navigator_container__2s-4C",image:"Navigator_image__3ITwa"}},,function(e,t,n){e.exports={editor:"Editor_editor__2aEyo"}},function(e,t,n){e.exports={scrollbox:"ScrollBox_scrollbox__FX24s"}},function(e,t,n){e.exports={transcription:"App_transcription__1Qfh6"}},,,,,,function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),i=n.n(s),r=n(7),a=n.n(r),o=Object(s.createContext)();o.displayName="TranscriptionContext";var u=o,l=n(8),b=n.n(l),j=function(e){var t=e.boxes,n=e.setBoxes,s=t[t.length-1];return Object(c.jsxs)("div",{className:b.a.editor,children:["Text:",Object(c.jsx)("input",{type:"text",onChange:function(e){var c=e.target.value,i=t.slice(0,-1).concat({x:s.x,y:s.y,height:s.height,width:s.width,text:c});n(i)},value:s.text||""})]})},x=function(){return Object(c.jsx)(u.Consumer,{children:function(e){var t=e.boxes,n=e.setBoxes;return Object(c.jsx)(j,{boxes:t,setBoxes:n})}})},h=n(2),O=n(9),d=n.n(O),m=function(e,t){return e>t?e:t},f=function(e,t){return e<t?e:t},v=function(e,t,n,c,s,i,r){return c?{left:e*(i/c),top:t*(i/c),width:"".concat(i/n,"px"),height:"".concat(s/n/c*i,"px")}:{}},g=function(e){var t=e.x,n=e.y,i=e.zoom,r=e.width,a=e.height,o=e.localWidth,u=e.localHeight,l=e.setX,b=e.setY,j=Object(s.useState)(!1),x=Object(h.a)(j,2),O=x[0],g=x[1],p=Object(s.useState)(null),_=Object(h.a)(p,2),w=_[0],y=_[1],S=Object(s.useState)(null),N=Object(h.a)(S,2),X=N[0],k=N[1];return Object(s.useEffect)((function(){var e=function(){return g(!1)};return window.addEventListener("mouseup",e),function(){window.removeEventListener("mousemove",e)}}),[]),Object(c.jsx)("div",{style:v(t,n,i,r,a,o),className:d.a.scrollbox,onMouseDown:function(e){var c=e.screenX,s=e.screenY;y(c-t),k(s-n),g(!0)},onMouseMove:function(e){var t=e.screenX,n=e.screenY;if(O){var c=o/i,s=a/i/r*o,j=f(m(t-w,0),o-c),x=f(m(n-X,0),u-s);l(j*(r/o)),b(x*(r/o))}}})},p=n(6),_=n.n(p),w=function(e){var t=e.image,n=e.x,i=e.y,r=e.zoom,a=e.width,o=e.height,u=e.setX,l=e.setY,b=Object(s.useRef)(null),j=Object(s.useState)(null),x=Object(h.a)(j,2),O=x[0],d=x[1],m=Object(s.useState)(null),f=Object(h.a)(m,2),v=f[0],p=f[1];return Object(s.useEffect)((function(){var e=b.current,t=function(){var t=e.clientHeight,n=e.clientWidth;d(t),p(n)},n=new ResizeObserver(t);return t(),n.observe(e),function(){n.unobserve(e)}}),[]),Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:_.a.container,ref:b,children:[Object(c.jsx)("img",{src:t,className:_.a.image}),Object(c.jsx)(g,{x:n,y:i,zoom:r,width:a,height:o,localHeight:O,localWidth:v,setX:u,setY:l})]})})},y=function(){return Object(c.jsx)(u.Consumer,{children:function(e){var t=e.image,n=e.x,s=e.y,i=e.zoom,r=e.height,a=e.width,o=e.setX,u=e.setY;return Object(c.jsx)(w,{image:t,x:n,y:s,zoom:i,height:r,width:a,setX:o,setY:u})}})},S=n(4),N=n.n(S),X=function(e){var t=e.image,n=e.x,i=e.y,r=(e.width,e.height,e.zoom),a=e.boxes,o=e.setWidth,u=e.setHeight,l=e.setBoxes,b=Object(s.useState)(!1),j=Object(h.a)(b,2),x=j[0],O=j[1],d=Object(s.useState)(null),m=Object(h.a)(d,2),f=m[0],v=m[1],g=Object(s.useState)(null),p=Object(h.a)(g,2),_=p[0],w=p[1],y=Object(s.useState)(0),S=Object(h.a)(y,2),X=S[0],k=S[1],z=Object(s.useState)(0),W=Object(h.a)(z,2),Y=W[0],B=W[1],C=Object(s.useRef)(null);Object(s.useEffect)((function(){var e=C.current,t=function(){var t=e.clientHeight,n=e.clientWidth;u(t),o(n)},n=new ResizeObserver(t);return t(),n.observe(e),function(){n.unobserve(e)}}),[]);var E={backgroundImage:"url(".concat(t,")"),backgroundPosition:"-".concat(r*n,"px -").concat(r*i,"px"),backgroundSize:"".concat(100*r,"%")};return Object(c.jsxs)("div",{ref:C,className:N.a.viewer,style:E,onMouseDown:function(e){var t=e.clientX,n=e.clientY;v(t-10),w(n-10),O(!0)},onMouseMove:function(e){var t=e.clientX,n=e.clientY;x&&(k(t-f-10),B(n-_-10))},onMouseUp:function(){var e=a.concat({x:n+f/r,y:i+_/r,width:X/r,height:Y/r});l(e),O(!1),k(null),B(null)},children:[function(){if(!x)return!1;var e={top:_,left:f,height:"".concat(Y,"px"),width:"".concat(X,"px")};return Object(c.jsx)("div",{style:e,className:N.a.select})}(),a.map((function(e,t){return function(e,t){var s=e.x,a=e.y,o=e.width,u=e.height,l={top:(a-i)*r,left:(s-n)*r,width:"".concat(o*r,"px"),height:"".concat(u*r,"px")};return Object(c.jsx)("div",{className:N.a.box,style:l},t)}(e,t)}))]})},k=function(){return Object(c.jsx)(u.Consumer,{children:function(e){var t=e.image,n=e.x,s=e.y,i=e.width,r=e.height,a=e.zoom,o=e.boxes,u=e.setWidth,l=e.setHeight,b=e.setBoxes;return Object(c.jsx)(X,{image:t,x:n,y:s,width:i,height:r,zoom:a,boxes:o,setWidth:u,setHeight:l,setBoxes:b})}})},z=function(e){var t=e.image,n=e.className,i=e.children,r=Object(s.useState)(0),a=Object(h.a)(r,2),o=a[0],l=a[1],b=Object(s.useState)(0),j=Object(h.a)(b,2),x=j[0],O=j[1],d=Object(s.useState)(null),m=Object(h.a)(d,2),f=m[0],v=m[1],g=Object(s.useState)(null),p=Object(h.a)(g,2),_=p[0],w=p[1],y=Object(s.useState)(2),S=Object(h.a)(y,2),N=S[0],X=S[1],k=Object(s.useState)([{x:100,y:200,width:100,height:100}]),z=Object(h.a)(k,2),W=z[0],Y=z[1];return Object(c.jsx)(u.Provider,{value:{image:t,x:o,y:x,zoom:N,height:f,width:_,boxes:W,setX:l,setY:O,setZoom:X,setHeight:v,setWidth:w,setBoxes:Y},children:Object(c.jsx)("div",{className:n,children:i})})},W=n(3),Y=n.n(W),B=function(e){var t=e.boxes;return Object(c.jsx)("div",{className:Y.a.xml,children:t.map((function(e,t){var n=e.x,s=e.y,i=e.width,r=e.height,a=e.text;return Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{className:Y.a.bracket,children:"<w"})," ",Object(c.jsx)("span",{className:Y.a.element,children:'facs="urn:cite:perseus:miscellanyimgs.UWDkbqJfqQc@'.concat(n,",").concat(s,",").concat(i,",").concat(r,'"')}),Object(c.jsx)("span",{className:Y.a.bracket,children:">"}),!!a&&Object(c.jsx)("br",{}),!!a&&Object(c.jsx)(c.Fragment,{children:"\xa0\xa0"}),a,!!a&&Object(c.jsx)("br",{}),Object(c.jsx)("span",{className:Y.a.bracket,children:"</w>"})]},t)}))})},C=function(){return Object(c.jsx)(u.Consumer,{children:function(e){var t=e.boxes;return Object(c.jsx)(B,{boxes:t})}})},E=n(10),H=n.n(E),M=n.p+"static/media/philostratus.d019d7fc.jpg",T=function(){return Object(c.jsxs)(z,{className:H.a.transcription,image:M,children:[Object(c.jsx)(k,{}),Object(c.jsx)(x,{}),Object(c.jsx)(y,{}),Object(c.jsx)(C,{})]})};a.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(T,{})}),document.getElementById("root"))}],[[16,1,2]]]);
//# sourceMappingURL=main.d3d14736.chunk.js.map