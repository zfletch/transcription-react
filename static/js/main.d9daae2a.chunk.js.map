{"version":3,"sources":["components/Xml/Xml.module.css","components/Viewer/Viewer.module.css","components/Editor/Editor.module.css","components/Navigator/Navigator.module.css","components/Navigator/ScrollBox/ScrollBox.module.css","components/App/App.module.css","components/Transcription/transcription-context.js","components/Editor/index.js","components/Editor/Editor.js","components/Transcription/Editor/index.js","components/Transcription/Editor/Editor.js","components/Navigator/ScrollBox/ScrollBox.js","components/Navigator/ScrollBox/index.js","components/Navigator/index.js","components/Navigator/Navigator.js","components/Transcription/Navigator/index.js","components/Transcription/Navigator/Navigator.js","components/Viewer/index.js","components/Viewer/Viewer.js","components/Transcription/Viewer/index.js","components/Transcription/Viewer/Viewer.js","components/Transcription/index.js","components/Transcription/Transcription.js","components/Xml/index.js","components/Xml/Xml.js","components/Transcription/Xml/index.js","components/Transcription/Xml/Xml.js","components/App/latin.jpg","components/App/index.js","components/App/App.js","index.js"],"names":["module","exports","TranscriptionContext","createContext","displayName","Editor","boxes","zoom","setBoxes","setZoom","activeBox","setActiveBox","selectedBox","updateField","field","transform","value","target","newBox","x","y","height","width","text","newBoxes","map","b","ii","updateZoom","className","styles","editor","type","onChange","e","max","min","step","parseFloat","toFixed","onClick","filter","Consumer","a","generateStyle","localWidth","localHeight","offsetLeft","offsetTop","left","top","ScrollBox","setX","setY","useState","drag","setDrag","offsetX","setOffsetX","offsetY","setOffsetY","onMouseMove","clientX","clientY","boxWidth","boxHeight","speedX","newX","newY","useEffect","onMouseUp","window","addEventListener","removeEventListener","style","scrollbox","onMouseDown","Navigator","image","setRatio","navigatorRef","useRef","imageRef","setLocalHeight","setLocalWidth","setOffsetLeft","setOffsetTop","navigator","current","element","resize","lh","clientHeight","lw","clientWidth","ol","ot","observer","ResizeObserver","observe","unobserve","ref","src","Viewer","ratio","setWidth","setHeight","select","setSelect","selectX","setSelectX","selectY","setSelectY","selectWidth","setSelectWidth","selectHeight","setSelectHeight","backgroundImage","backgroundPosition","backgroundSize","container","viewer","selectTop","selectLeft","concat","Math","abs","length","renderSelect","i","index","boxX","boxY","classes","box","active","join","renderBox","Transcription","children","viewerState","setViewerState","Provider","Xml","xml","line","bracket","n","App","transcription","philostratus","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d9daae2a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"xml\":\"Xml_xml__1n50u\",\"line\":\"Xml_line__2gipS\",\"active\":\"Xml_active__1XIyg\",\"bracket\":\"Xml_bracket__rKg-A\",\"element\":\"Xml_element__3P9um\",\"attribute\":\"Xml_attribute__n_pW3\",\"attributeText\":\"Xml_attributeText__2X5Ok\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Viewer_container__3i4A8\",\"header\":\"Viewer_header__34LO6\",\"viewer\":\"Viewer_viewer__1Spx5\",\"box\":\"Viewer_box__3pcwy\",\"active\":\"Viewer_active__3yomw\",\"select\":\"Viewer_select__il19s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"Editor_editor__2aEyo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigator\":\"Navigator_navigator__3gcbv\",\"image\":\"Navigator_image__3ITwa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollbox\":\"ScrollBox_scrollbox__FX24s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"transcription\":\"App_transcription__1Qfh6\"};","import { createContext } from 'react';\n\nconst TranscriptionContext = createContext();\n\nTranscriptionContext.displayName = 'TranscriptionContext';\n\nexport default TranscriptionContext;\n","import Editor from './Editor';\n\nexport default Editor;\n","import React from 'react';\n\nimport styles from './Editor.module.css';\n\nconst Editor = ({ boxes, zoom, setBoxes, setZoom, activeBox, setActiveBox }) => {\n  const selectedBox = activeBox === null ? null : boxes[activeBox];\n\n  const updateField = (field, { target: { value }}, transform) => {\n    const newBox = {\n      x: selectedBox.x,\n      y: selectedBox.y,\n      height: selectedBox.height,\n      width: selectedBox.width,\n      text: selectedBox.text,\n    }\n    newBox[field] = transform ? transform(value) : value;\n    const newBoxes = boxes.map((b, ii) => ii === activeBox ? newBox : b);\n\n    setBoxes(newBoxes);\n  };\n\n  const updateZoom = ({ target: { value }}) => {\n    setZoom(value);\n  };\n\n  const deleteBox = () => {\n    const newBoxes = boxes.filter((b, ii) => ii === activeBox ? false : true);\n\n    setBoxes(newBoxes);\n    setActiveBox(null);\n  };\n\n  if (!selectedBox) {\n    return (\n      <div className={styles.editor}>\n        Zoom ({zoom}):\n        <input type=\"range\" min=\"1\" max=\"5\" onChange={updateZoom} value={zoom} />\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.editor}>\n      Text:\n      <input type=\"text\" onChange={(e) => updateField('text', e)} value={selectedBox.text || ''} />\n      <br />\n      X:\n      <input type=\"number\" max=\"1\" min=\"0\" step=\"0.0001\" onChange={(e) => updateField('x', e, parseFloat)} value={selectedBox.x.toFixed(4) || '0'} />\n      <br />\n      Y:\n      <input type=\"number\" max=\"1\" min=\"0\" step=\"0.0001\" onChange={(e) => updateField('y', e, parseFloat)} value={selectedBox.y.toFixed(4) || '0'} />\n      <br />\n      Width:\n      <input type=\"number\" max=\"1\" min=\"0\" step=\"0.0001\" onChange={(e) => updateField('width', e, parseFloat)} value={selectedBox.width.toFixed(4) || '0'} />\n      <br />\n      Height:\n      <input type=\"number\" max=\"1\" min=\"0\" step=\"0.0001\" onChange={(e) => updateField('height', e, parseFloat)} value={selectedBox.height.toFixed(4) || '0'} />\n      <br />\n      Delete:\n      <input type=\"button\" onClick={deleteBox} value=\"Delete\" />\n      <br />\n      Zoom ({zoom}):\n      <input type=\"range\" min=\"1\" max=\"5\" onChange={updateZoom} value={zoom} />\n    </div>\n  );\n};\n\nexport default Editor;\n","import Editor from './Editor';\n\nexport default Editor;\n","import React from 'react';\n\nimport TranscriptionContext from '../transcription-context';\n\nimport Editor from '../../Editor';\n\nconst EditorWithContext = () => (\n  <TranscriptionContext.Consumer>\n    {({ boxes, setBoxes, zoom, setZoom, activeBox, setActiveBox }) => <Editor boxes={boxes} setBoxes={setBoxes} zoom={zoom} setZoom={setZoom} activeBox={activeBox} setActiveBox={setActiveBox} />}\n  </TranscriptionContext.Consumer>\n);\n\nexport default EditorWithContext;\n","import React, { useEffect, useState } from 'react';\n\nimport styles from './ScrollBox.module.css';\n\nconst max = (a, b) => (\n  a > b ? a : b\n);\n\nconst min = (a, b) => (\n  a < b ? a : b\n);\n\nconst generateStyle = (x, y, zoom, width, height, localWidth, localHeight, offsetLeft, offsetTop) => {\n  // The way that CSS background images work is that the `width` is always\n  // equivalent to 100% of the image (when `background-size` is `100%`) but the\n  // height may be less.\n  // To calculate what the size of the scrollbox should be, we can just use 100%\n  // for the width (and adjust it based on zoom).\n  // For the height, we can figure out the percentage of the height that make up\n  // the width and multiply that by 100% (adjusted based on zoom).\n  // We can calculate `x` and `y` by finding the ratio between the width and\n  // localWidth and multiplying `x` and `y` by that value.\n\n  if (!width) {\n    return {};\n  }\n\n  return {\n    left: x * (localWidth / width) + offsetLeft,\n    top: y * (localWidth / width) + offsetTop,\n    width: `${localWidth / zoom}px`,\n    height: `${((height / zoom) / width) * localWidth}px`,\n  };\n};\n\nconst ScrollBox = ({ x, y, zoom, width, height, localWidth, localHeight, offsetLeft, offsetTop, setX, setY }) => {\n  const [drag, setDrag] = useState(false);\n  const [offsetX, setOffsetX] = useState(null);\n  const [offsetY, setOffsetY] = useState(null);\n\n  const onMouseMove = ({ clientX, clientY }) => {\n    if (drag) {\n      const boxWidth = localWidth / zoom;\n      const boxHeight = ((height / zoom) / width) * localWidth;\n\n      const speedX = ((offsetLeft * 2) + localWidth) / localWidth;\n\n      const newX = min(max(clientX * speedX - offsetX, 0), (localWidth - boxWidth) * (width / localWidth));\n      const newY = min(max(clientY * speedX - offsetY, 0), (localHeight - boxHeight) * (width / localWidth));\n\n      setX(newX);\n      setY(newY);\n    }\n  };\n\n  const onMouseDown = ({ clientX, clientY }) => {\n    const speedX = ((offsetLeft * 2) + localWidth) / localWidth;\n\n    setOffsetX(clientX * speedX - x);\n    setOffsetY(clientY * speedX - y);\n\n    setDrag(true);\n  };\n\n  useEffect(() => {\n    const onMouseUp = () => setDrag(false);\n\n    window.addEventListener('mouseup', onMouseUp);\n\n    return () => {\n      window.removeEventListener('mouseup', onMouseUp)\n    }\n  }, [])\n\n  useEffect(() => {\n    window.addEventListener('mousemove', onMouseMove);\n\n    return () => {\n      window.removeEventListener('mousemove', onMouseMove)\n    }\n  }, [drag])\n\n  useEffect(() => {\n    const boxWidth = localWidth / zoom;\n    const boxHeight = ((height / zoom) / width) * localWidth;\n\n    const newX = min(max(x, 0), (localWidth - boxWidth) * (width / localWidth));\n    const newY = min(max(y, 0), (localHeight - boxHeight) * (width / localWidth));\n\n    if (newX !== x || newY !== y) {\n      setX(newX);\n      setY(newY);\n    }\n  }, [localHeight, localWidth, offsetLeft, offsetTop])\n\n  return (\n    <div\n      style={generateStyle(x, y, zoom, width, height, localWidth, localWidth, offsetLeft, offsetTop)}\n      className={styles.scrollbox}\n      onMouseDown={onMouseDown}\n    />\n  );\n};\n\nexport default ScrollBox;\n","import ScrollBox from './ScrollBox';\n\nexport default ScrollBox;\n","import Navigator from './Navigator';\n\nexport default Navigator;\n","import React, { useRef, useEffect, useState } from 'react';\n\nimport Scrollbox from './ScrollBox';\n\nimport styles from './Navigator.module.css';\n\nconst Navigator = ({ image, x, y, zoom, width, height, setX, setY, setRatio }) => {\n  const navigatorRef = useRef(null);\n  const imageRef = useRef(null);\n  const [localHeight, setLocalHeight] = useState(null);\n  const [localWidth, setLocalWidth] = useState(null);\n  const [offsetLeft, setOffsetLeft] = useState(null);\n  const [offsetTop, setOffsetTop] = useState(null);\n\n  useEffect(() => {\n    const navigator = navigatorRef.current;\n    const element = imageRef.current;\n\n    const resize = () => {\n      const lh = element.clientHeight;\n      const lw = element.clientWidth;\n      const ol = element.offsetLeft;\n      const ot = element.offsetTop;\n\n      setLocalHeight(lh);\n      setLocalWidth(lw);\n      setOffsetLeft(ol);\n      setOffsetTop(ot);\n      setRatio(lh / lw);\n    };\n\n    resize();\n\n    const observer = new ResizeObserver(resize);\n    observer.observe(navigator);\n    observer.observe(element);\n\n    return () => {\n      observer.unobserve(navigator);\n      observer.unobserve(element);\n    };\n  }, []);\n\n  return (\n    <div>\n      <div className={styles.navigator} ref={navigatorRef}>\n        <img src={image} ref={imageRef} className={styles.image} />\n        <Scrollbox x={x} y={y} zoom={zoom} width={width} height={height} localHeight={localHeight} localWidth={localWidth} setX={setX} setY={setY} offsetLeft={offsetLeft} offsetTop={offsetTop} />\n      </div>\n    </div>\n  );\n};\n\nexport default Navigator;\n","import Navigator from './Navigator';\n\nexport default Navigator;\n","import React from 'react';\n\nimport TranscriptionContext from '../transcription-context';\n\nimport Navigator from '../../Navigator';\n\nconst NavigatorWithContext = () => (\n  <TranscriptionContext.Consumer>\n    {({ image, x, y, zoom, height, width, setX, setY, setRatio }) => (\n      <Navigator image={image} x={x} y={y} zoom={zoom} height={height} width={width} setX={setX} setY={setY} setRatio={setRatio} />\n    )}\n  </TranscriptionContext.Consumer>\n);\n\nexport default NavigatorWithContext;\n","import Viewer from './Viewer';\n\nexport default Viewer;\n","import React, { useEffect, useRef, useState } from 'react';\n\nimport styles from './Viewer.module.css';\n\nconst Viewer = ({ image, x, y, width, height, zoom, boxes, ratio, setWidth, setHeight, setBoxes, activeBox, setActiveBox }) => {\n  const [select, setSelect] = useState(false);\n  const [selectX, setSelectX] = useState(null);\n  const [selectY, setSelectY] = useState(null);\n  const [selectWidth, setSelectWidth] = useState(0);\n  const [selectHeight, setSelectHeight] = useState(0);\n  const [offsetX, setOffsetX] = useState(0);\n  const [offsetY, setOffsetY] = useState(0);\n  const ref = useRef(null);\n\n  useEffect(() => {\n    const element = ref.current;\n    const resize = () => {\n      const height = element.clientHeight;\n      const width = element.clientWidth;\n\n      setHeight(height);\n      setWidth(width);\n      setOffsetX(element.offsetLeft);\n      setOffsetY(element.offsetTop);\n    };\n    const observer = new ResizeObserver(resize);\n\n    resize();\n    observer.observe(element);\n\n    return () => {\n      observer.unobserve(element);\n    };\n  }, []);\n\n  const renderBox = ({ x: boxX, y: boxY, width: boxWidth, height: boxHeight }, index) => {\n    const style = {\n      top: `${boxY * ratio * width * zoom - y * zoom}px`,\n      left: `${boxX * width * zoom - x * zoom}px`,\n      width: `${boxWidth * width * zoom}px`,\n      height: `${boxHeight * ratio * width * zoom}px`,\n    };\n    const classes = index === activeBox ? [styles.box, styles.active] : [styles.box];\n\n    return (\n      <div\n        key={index}\n        className={classes.join(' ')}\n        style={style}\n      />\n    );\n  };\n\n  const onMouseUp = () => {\n    if (!selectHeight || !selectWidth) {\n      return;\n    }\n\n    const selectTop = selectHeight < 0 ? selectY + selectHeight : selectY;\n    const selectLeft = selectWidth < 0 ? selectX + selectWidth : selectX;\n\n    const newBoxes = boxes.concat({\n      y: (selectTop + y * zoom) / (width * ratio * zoom),\n      x: (selectLeft + x * zoom) / (width * zoom),\n      height: Math.abs(selectHeight) / (width * ratio *zoom),\n      width: Math.abs(selectWidth) / (width * zoom),\n    });\n\n    setBoxes(newBoxes);\n    setSelect(false);\n    setSelectWidth(null);\n    setSelectHeight(null);\n    setActiveBox(newBoxes.length - 1);\n  };\n\n  const renderSelect = () => {\n    if (!select) {\n      return false;\n    }\n\n    const selectTop = selectHeight < 0 ? selectY + selectHeight : selectY;\n    const selectLeft = selectWidth < 0 ? selectX + selectWidth : selectX;\n\n    const style = {\n      top: selectTop,\n      left: selectLeft,\n      height: `${Math.abs(selectHeight)}px`,\n      width: `${Math.abs(selectWidth)}px`,\n    };\n\n    return (\n      <div\n        style={style}\n        className={styles.select}\n      />\n    );\n  };\n\n  const onMouseMove = ({ clientX, clientY }) => {\n    if (select) {\n      setSelectWidth(clientX - selectX - offsetX);\n      setSelectHeight(clientY - selectY - offsetY);\n    }\n  };\n\n  const onMouseDown = ({ clientX, clientY }) => {\n    setSelectX(clientX - offsetX);\n    setSelectY(clientY - offsetY);\n\n    setSelect(true);\n  };\n\n  const style = {\n    backgroundImage: `url(${image})`,\n    backgroundPosition: `-${zoom * x}px -${zoom * y}px`,\n    backgroundSize: `${zoom * 100}%`,\n  }\n\n  return (\n    <div className={styles.container}>\n      <div\n        ref={ref}\n        className={styles.viewer}\n        style={style}\n        onMouseDown={onMouseDown}\n        onMouseMove={onMouseMove}\n        onMouseUp={onMouseUp}\n      >\n        {renderSelect()}\n        {boxes.map((b, i) => renderBox(b, i))}\n      </div>\n    </div>\n  );\n};\n\nexport default Viewer;\n","import Viewer from './Viewer';\n\nexport default Viewer;\n","import React from 'react';\n\nimport TranscriptionContext from '../transcription-context';\n\nimport Viewer from '../../Viewer';\n\nconst ViewerWithContext = () => (\n  <TranscriptionContext.Consumer>\n    {({ image, x, y, width, height, ratio, zoom, boxes, setWidth, setHeight, setBoxes, activeBox, setActiveBox }) => <Viewer image={image} x={x} y={y} width={width} height={height} zoom={zoom} ratio={ratio} boxes={boxes} setWidth={setWidth} setHeight={setHeight} setBoxes={setBoxes} activeBox={activeBox} setActiveBox={setActiveBox} />}\n  </TranscriptionContext.Consumer>\n);\n\nexport default ViewerWithContext;\n","import Transcription from './Transcription';\n\nexport default Transcription;\n","import React, { useState } from 'react';\n\nimport TranscriptionContext from './transcription-context';\n\nconst Transcription = ({ image, className, children }) => {\n  const [x, setX] = useState(0);\n  const [y, setY] = useState(0);\n  const [height, setHeight] = useState(0);\n  const [width, setWidth] = useState(0);\n  const [ratio, setRatio] = useState(1);\n  const [zoom, setZoom] = useState(2);\n  const [viewerState, setViewerState] = useState('draw'); // draw, select\n  const [activeBox, setActiveBox] = useState(0);\n  const [boxes, setBoxes] = useState([{ x: 0.1130, y: 0.0867, width: 0.0706, height: 0.0481 }, { x: 0.2940, y: 0.1554, width: 0.1657, height: 0.0128 }]);\n\n  return (\n    <TranscriptionContext.Provider value={{ image, x, y, zoom, height, width, ratio, boxes, setX, setY, setZoom, setHeight, setWidth, setRatio, setBoxes, viewerState, setViewerState, activeBox, setActiveBox }}>\n      <div className={className}>\n        {children}\n      </div>\n    </TranscriptionContext.Provider>\n  );\n};\n\nexport default Transcription;\n","import Xml from './Xml';\n\nexport default Xml;\n","import React from 'react';\n\nimport styles from './Xml.module.css';\n\nconst format = ({ x, y, width, height }) => (\n  [x, y, width, height].map(n => n.toFixed(4)).join(',')\n);\n\nconst Xml = ({ boxes, activeBox, setActiveBox }) => {\n  return (\n    <div className={styles.xml}>\n      {boxes.map(({ x, y, width, height, text }, ii) => (\n        <div key={ii} className={ii === activeBox ? [styles.active, styles.line].join(' ') : styles.line} onClick={() => setActiveBox(ii)}>\n          <span className={styles.bracket}>&lt;w</span>\n          {' '}\n          <span className={styles.element}>\n            {`facs=\"urn:cite:perseus:miscellanyimgs.UWDkbqJfqQc@${format({ x, y, width, height })}\"`}\n          </span>\n          <span className={styles.bracket}>&gt;</span>\n          {text ? <br /> : false}\n          {text ? <>&nbsp;&nbsp;</> : false}\n          {text}\n          {text ? <br /> : false}\n          <span className={styles.bracket}>&lt;/w&gt;</span>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default Xml\n","import Xml from './Xml';\n\nexport default Xml;\n","import React from 'react';\n\nimport TranscriptionContext from '../transcription-context';\n\nimport Xml from '../../Xml';\n\nconst XmlWithContext = () => (\n  <TranscriptionContext.Consumer>\n    {({ boxes, activeBox, setActiveBox }) => <Xml boxes={boxes} activeBox={activeBox} setActiveBox={setActiveBox} />}\n  </TranscriptionContext.Consumer>\n);\n\nexport default XmlWithContext;\n","export default __webpack_public_path__ + \"static/media/latin.13f66406.jpg\";","import App from './App';\n\nexport default App;\n","import React from 'react';\n\nimport Editor from '../Transcription/Editor';\nimport Navigator from '../Transcription/Navigator';\nimport Viewer from '../Transcription/Viewer';\nimport Transcription from '../Transcription';\nimport Xml from '../Transcription/Xml';\n\nimport styles from './App.module.css';\n\nimport philostratus from './latin.jpg';\n\nconst App = () => (\n  <Transcription className={styles.transcription} image={philostratus}>\n    <Viewer />\n    <Editor />\n    <Navigator />\n    <Xml />\n  </Transcription>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}