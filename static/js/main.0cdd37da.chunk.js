(this["webpackJsonptranscription-react"]=this["webpackJsonptranscription-react"]||[]).push([[0],[,,,function(e,t,c){e.exports={xml:"Xml_xml__1n50u",bracket:"Xml_bracket__rKg-A",element:"Xml_element__3P9um",attribute:"Xml_attribute__n_pW3",attributeText:"Xml_attributeText__2X5Ok"}},function(e,t,c){e.exports={viewer:"Viewer_viewer__1Spx5",box:"Viewer_box__3pcwy",select:"Viewer_select__il19s"}},,function(e,t,c){e.exports={container:"Navigator_container__2s-4C",image:"Navigator_image__3ITwa"}},,function(e,t,c){e.exports={editor:"Editor_editor__2aEyo"}},function(e,t,c){e.exports={scrollbox:"ScrollBox_scrollbox__FX24s"}},function(e,t,c){e.exports={transcription:"App_transcription__1Qfh6"}},,,,,,function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(1),i=c.n(s),a=c(7),r=c.n(a),o=Object(s.createContext)();o.displayName="TranscriptionContext";var u=o,l=c(8),j=c.n(l),b=function(e){var t=e.boxes,c=e.setBoxes,s=t[t.length-1];return Object(n.jsxs)("div",{className:j.a.editor,children:["Text:",Object(n.jsx)("input",{type:"text",onChange:function(e){var n=e.target.value,i=t.slice(0,-1).concat({x:s.x,y:s.y,height:s.height,width:s.width,text:n});c(i)},value:s.text||""})]})},x=function(){return Object(n.jsx)(u.Consumer,{children:function(e){var t=e.boxes,c=e.setBoxes;return Object(n.jsx)(b,{boxes:t,setBoxes:c})}})},h=c(2),d=c(9),O=c.n(d),m=function(e,t){return e>t?e:t},f=function(e){var t=e.x,c=e.y,i=e.zoom,a=e.width,r=e.height,o=(e.localWidth,e.localHeight,e.setX),u=e.setY,l=Object(s.useState)(!1),j=Object(h.a)(l,2),b=j[0],x=j[1],d=Object(s.useState)(null),f=Object(h.a)(d,2),g=f[0],v=f[1],p=Object(s.useState)(null),_=Object(h.a)(p,2),w=_[0],y=_[1];Object(s.useEffect)((function(){var e=function(){return x(!1)};return window.addEventListener("mouseup",e),function(){window.removeEventListener("mousemove",e)}}),[]);var S={top:c,left:t,height:"".concat(r/i,"px"),width:"".concat(a/i,"px")};return Object(n.jsx)("div",{style:S,className:O.a.scrollbox,onMouseDown:function(e){var n=e.screenX,s=e.screenY;v(n-t),y(s-c),x(!0)},onMouseMove:function(e){var n=e.screenX,s=e.screenY;b&&t>=0&&c>=0&&(o(m(n-g,0)),u(m(s-w,0)))}})},g=c(6),v=c.n(g),p=function(e){var t=e.image,c=e.x,i=e.y,a=e.zoom,r=e.width,o=e.height,u=e.setX,l=e.setY,j=Object(s.useRef)(null),b=Object(s.useState)(null),x=Object(h.a)(b,2),d=x[0],O=x[1],m=Object(s.useState)(null),g=Object(h.a)(m,2),p=g[0],_=g[1];return Object(s.useEffect)((function(){var e=j.current.clientHeight,t=j.current.clientWidth;O(e),_(t)})),Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:v.a.container,ref:j,children:[Object(n.jsx)("img",{src:t,className:v.a.image}),Object(n.jsx)(f,{x:c,y:i,zoom:a,width:r,height:o,localHeight:d,localWidth:p,setX:u,setY:l})]})})},_=function(){return Object(n.jsx)(u.Consumer,{children:function(e){var t=e.image,c=e.x,s=e.y,i=e.zoom,a=e.height,r=e.width,o=e.setX,u=e.setY;return Object(n.jsx)(p,{image:t,x:c,y:s,zoom:i,height:a,width:r,setX:o,setY:u})}})},w=c(4),y=c.n(w),S=function(e){var t=e.image,c=e.x,i=e.y,a=(e.width,e.height,e.zoom),r=e.boxes,o=e.setWidth,u=e.setHeight,l=e.setBoxes,j=Object(s.useState)(!1),b=Object(h.a)(j,2),x=b[0],d=b[1],O=Object(s.useState)(null),m=Object(h.a)(O,2),f=m[0],g=m[1],v=Object(s.useState)(null),p=Object(h.a)(v,2),_=p[0],w=p[1],S=Object(s.useState)(0),N=Object(h.a)(S,2),X=N[0],k=N[1],z=Object(s.useState)(0),W=Object(h.a)(z,2),Y=W[0],B=W[1],C=Object(s.useRef)(null);Object(s.useEffect)((function(){var e=C.current.clientHeight,t=C.current.clientWidth;u(e),o(t)}),[]);var E={backgroundImage:"url(".concat(t,")"),backgroundPosition:"-".concat(a*c,"px -").concat(a*i,"px"),backgroundSize:"".concat(100*a,"%")};return Object(n.jsxs)("div",{ref:C,className:y.a.viewer,style:E,onMouseDown:function(e){var t=e.clientX,c=e.clientY;g(t-10),w(c-10),d(!0)},onMouseMove:function(e){var t=e.clientX,c=e.clientY;x&&(k(t-f-10),B(c-_-10))},onMouseUp:function(){var e=r.concat({x:c+f/a,y:i+_/a,width:X/a,height:Y/a});l(e),d(!1),k(null),B(null)},children:[function(){if(!x)return!1;var e={top:_,left:f,height:"".concat(Y,"px"),width:"".concat(X,"px")};return Object(n.jsx)("div",{style:e,className:y.a.select})}(),r.map((function(e,t){return function(e,t){var s=e.x,r=e.y,o=e.width,u=e.height,l={top:(r-i)*a,left:(s-c)*a,width:"".concat(o*a,"px"),height:"".concat(u*a,"px")};return Object(n.jsx)("div",{className:y.a.box,style:l},t)}(e,t)}))]})},N=function(){return Object(n.jsx)(u.Consumer,{children:function(e){var t=e.image,c=e.x,s=e.y,i=e.width,a=e.height,r=e.zoom,o=e.boxes,u=e.setWidth,l=e.setHeight,j=e.setBoxes;return Object(n.jsx)(S,{image:t,x:c,y:s,width:i,height:a,zoom:r,boxes:o,setWidth:u,setHeight:l,setBoxes:j})}})},X=function(e){var t=e.image,c=e.className,i=e.children,a=Object(s.useState)(0),r=Object(h.a)(a,2),o=r[0],l=r[1],j=Object(s.useState)(0),b=Object(h.a)(j,2),x=b[0],d=b[1],O=Object(s.useState)(null),m=Object(h.a)(O,2),f=m[0],g=m[1],v=Object(s.useState)(null),p=Object(h.a)(v,2),_=p[0],w=p[1],y=Object(s.useState)(2),S=Object(h.a)(y,2),N=S[0],X=S[1],k=Object(s.useState)([{x:100,y:200,width:100,height:100}]),z=Object(h.a)(k,2),W=z[0],Y=z[1];return Object(n.jsx)(u.Provider,{value:{image:t,x:o,y:x,zoom:N,height:f,width:_,boxes:W,setX:l,setY:d,setZoom:X,setHeight:g,setWidth:w,setBoxes:Y},children:Object(n.jsx)("div",{className:c,children:i})})},k=c(3),z=c.n(k),W=function(e){var t=e.boxes;return Object(n.jsx)("div",{className:z.a.xml,children:t.map((function(e,t){var c=e.x,s=e.y,i=e.width,a=e.height,r=e.text;return Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{className:z.a.bracket,children:"<w"})," ",Object(n.jsx)("span",{className:z.a.element,children:'facs="urn:cite:perseus:miscellanyimgs.UWDkbqJfqQc@'.concat(c,",").concat(s,",").concat(i,",").concat(a,'"')}),Object(n.jsx)("span",{className:z.a.bracket,children:">"}),!!r&&Object(n.jsx)("br",{}),!!r&&Object(n.jsx)(n.Fragment,{children:"\xa0\xa0"}),r,!!r&&Object(n.jsx)("br",{}),Object(n.jsx)("span",{className:z.a.bracket,children:"</w>"})]},t)}))})},Y=function(){return Object(n.jsx)(u.Consumer,{children:function(e){var t=e.boxes;return Object(n.jsx)(W,{boxes:t})}})},B=c(10),C=c.n(B),E=c.p+"static/media/philostratus.d019d7fc.jpg",H=function(){return Object(n.jsxs)(X,{className:C.a.transcription,image:E,children:[Object(n.jsx)(N,{}),Object(n.jsx)(x,{}),Object(n.jsx)(_,{}),Object(n.jsx)(Y,{})]})};r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(H,{})}),document.getElementById("root"))}],[[16,1,2]]]);
//# sourceMappingURL=main.0cdd37da.chunk.js.map