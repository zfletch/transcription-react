{"version":3,"sources":["components/App/philostratus.jpg","components/App/App.js","components/App/index.js","utils/parsing.js","index.js"],"names":["wordStyle","active","cursor","backgroundColor","renderLine","setActive","setFacs","index","w","map","word","ii","row","$","_","facs","id","style","onMouseDown","split","parseFloat","renderWord","renderFacs","n","position","opacity","left","top","width","height","App","useState","lines","xml","json","parseString","explicitCharkey","_err","result","xmlToJson","TEI","text","body","div","lg","l","display","margin","overflow","src","philostratus","alt","marginTop","line","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kOAAe,MAA0B,yC,QCqGnCA,EAAY,SAACC,GAAD,OAChBA,EAAS,CAAEC,OAAQ,UAAWC,gBAAiB,WAAc,CAAED,OAAQ,YAqBnEE,EAAa,SAAC,EAAOH,EAAQI,EAAWC,EAASC,GAApC,IAAGC,EAAH,EAAGA,EAAH,OACjB,eAAC,WAAD,WACGA,EAAEC,KAAI,SAACC,EAAMC,GAAP,OApBQ,SAAC,EAAUV,EAAQI,EAAWC,EAASM,EAAKL,GAAW,IAApDM,EAAmD,EAAnDA,EAAGC,EAAgD,EAAhDA,EACjBC,EAAOF,EAAIA,EAAEE,KAAO,KACpBC,EAAE,eAAWJ,EAAX,YAAkBL,GAM1B,OACE,eAAC,WAAD,WACE,sBAAMU,MAAOjB,EAAUC,IAAWe,GAAKE,YAPvB,WAClBb,EAAUW,GACVV,EAAQS,EAAOA,EAAKI,MAAM,KAAK,GAAGA,MAAM,KAAKV,IAAIW,YAAc,OAK7D,SACGN,IAEF,MAJYE,GAWMK,CAAWX,EAAMT,EAAQI,EAAWC,EAASC,EAAOI,MACzE,yBAFF,eAAuBJ,KAMnBe,EAAa,SAACP,GAClB,IAAKA,EACH,OAAO,KAFkB,MAIIA,EAAKN,KAAI,SAACc,GAAD,OAAW,IAAJA,KAASd,KAAI,SAACc,GAAD,gBAAUA,EAAV,QAJjC,mBAMrBN,EAAQ,CACZO,SAAU,WACVrB,gBAAiB,UACjBsB,QAAS,MACTC,KAVyB,KAWzBC,IAXyB,KAYzBC,MAZyB,KAazBC,OAbyB,MAgB3B,OACE,qBAAKZ,MAAOA,KCjJDa,EDqJH,WAAO,IAAD,EACYC,mBAAS,MADrB,mBACT9B,EADS,KACDI,EADC,OAEQ0B,mBAAS,MAFjB,mBAEThB,EAFS,KAEHT,EAFG,KAMV0B,EE3JU,SAACC,GACjB,IAAIC,EAKJ,OAJAC,sBAAYF,EAAK,CAAEG,iBAAiB,IAAQ,SAACC,EAAMC,GACjDJ,EAAOI,KAGFJ,EFmJMK,CArJH,y3KAuJSC,IAAIC,KAAK,GAAGC,KAAK,GAAGC,IAAI,GAAGC,GAAG,GAAGC,EAEpD,OACE,sBAAK5B,MAAO,CAAE6B,QAAS,QAAvB,UACE,qBAAK7B,MAAO,CAAEW,MAAO,MAAOmB,OAAQ,QAApC,SACE,qBAAK9B,MAAO,CAAE+B,SAAU,UAAxB,SACE,qBAAK/B,MAAO,CAAEO,SAAU,YAAxB,SACE,sBAAKP,MAAO,CAAEW,MAAO,cAAeC,OAAQ,cAAeL,SAAU,YAArE,UACE,qBAAKyB,IAAKC,EAAcC,IAAI,SAC3B7B,EAAWP,YAKpB,qBAAKE,MAAO,CAAEW,MAAO,MAAOmB,OAAQ,OAAQK,UAAW,QAAvD,SACGpB,EAAMvB,KAAI,SAAC4C,EAAM1C,GAAP,OAAcP,EAAWiD,EAAMpD,EAAQI,EAAWC,EAASK,YGxK9E2C,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.06549f07.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/philostratus.d019d7fc.jpg\";","import React, { Fragment, useState } from 'react';\n\nimport philostratus from './philostratus.jpg';\n\nimport { xmlToJson } from '../../utils/parsing';\n\nconst xml = ''\n  + '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n'\n  + '<TEI\\n'\n  + '    xmlns=\"http://www.tei-c.org/ns/1.0\" xml:lang=\"en\">\\n'\n  + '    <teiHeader>\\n'\n  + '        <fileDesc>\\n'\n  + '            <titleStmt>\\n'\n  + '                <title>IG II² 12974, Philostratus the son of Philoxenus</title>\\n'\n  + '                <editor>\\n'\n  + '                    <name>Daniel Orazio</name>\\n'\n  + '                </editor>\\n'\n  + '                <editor>\\n'\n  + '                    <name>Michael Brown</name>\\n'\n  + '                </editor>\\n'\n  + '                <editor>\\n'\n  + '                    <name>Devon Armstrong</name>\\n'\n  + '                </editor>\\n'\n  + '                <editor role=\"reviewer\">Marie-Claire Beaulieu, Phd.</editor>\\n'\n  + '            </titleStmt>\\n'\n  + '            <publicationStmt>\\n'\n  + '                <authority>Perseus Project</authority>\\n'\n  + '                <idno type=\"urn:cts\">urn:cts:ig:ii_2.12974.perseus-grc1</idno>\\n'\n  + '                <availability>\\n'\n  + '                    <p>This work is licensed under a\\n'\n  + '          \\n'\n  + '                        <ref type=\"license\" target=\"http://creativecommons.org/licenses/by-sa/3.0/\">Creative \\n'\n  + '          Commons Attribution-ShareAlike 3.0 License</ref>.\\n'\n  + '                    </p>\\n'\n  + '                </availability>\\n'\n  + '            </publicationStmt>\\n'\n  + '            <sourceDesc>\\n'\n  + '                <p>\\n'\n  + '                    <bibl></bibl>\\n'\n  + '                </p>\\n'\n  + '            </sourceDesc>\\n'\n  + '        </fileDesc>\\n'\n  + '        <profileDesc>\\n'\n  + '            <langUsage>\\n'\n  + '                <language ident=\"en\">English</language>\\n'\n  + '                <language ident=\"grc\">Greek</language>\\n'\n  + '            </langUsage>\\n'\n  + '        </profileDesc>\\n'\n  + '        <revisionDesc>\\n'\n  + '            <change when=\"2014-11-30T14:34:52.01Z\" who=\"http://data.perseus.org/sosol/users/Bridget%20Almas\">Finalized - Finalized.</change>\\n'\n  + '            <change when=\"2014-11-30T14:34:52.006Z\" who=\"http://data.perseus.org/sosol/users/Marie-Claire%20B\">Vote - Approve - Great!</change>\\n'\n  + '            <change when=\"2014-11-26T22:19:41.364Z\" who=\"http://data.perseus.org/sosol/users/Bridget%20Almas\">Adding editors, titles and correcting transcription.</change>\\n'\n  + '            <change when=\"2014-02-06T20:15:23.157Z\" who=\"http://data.perseus.org/sosol/users/Bridget%20Almas%20-%20Tufts%20Account\">Finalized - Committing approved version to master repo.</change>\\n'\n  + '            <change when=\"2014-02-06T20:15:23.148Z\" who=\"http://data.perseus.org/sosol/users/Marie-Claire%20B\">Vote - Accept - Very good translation! You will get full credit. The second line is tricky to render into English, but I think you did well to emphasize the \"kai... te\"</change>\\n'\n  + '            <change when=\"2013-12-13T18:39:17.529Z\" who=\"http://data.perseus.org/sosol/users/Dan%20Orazio\">transcribed and translated</change>\\n'\n  + '            <change when=\"2013-12-04T20:32:43+00:00\" who=\"http://perseids.org/editor\">Automated creation from template</change>\\n'\n  + '        </revisionDesc>\\n'\n  + '    </teiHeader>\\n'\n  + '    <text>\\n'\n  + '        <body>\\n'\n  + '            <div xml:lang=\"grc\" type=\"edition\" xml:space=\"preserve\">\\n'\n  + '                <lg met=\"\">\\n'\n  + '                    <l n=\"1\">\\n'\n  + '                        <supplied reason=\"lost\">Φιλ</supplied>\\n'\n  + '                        <w facs=\"urn:cite:perseus:funeraryimg.wUdglRwLMJ6@0.2012,0.4199,0.3483,0.0725\">όστρατοσ</w>\\n'\n  + '                        <w facs=\"urn:cite:perseus:funeraryimg.wUdglRwLMJ6@0.5506,0.435,0.4324,0.0634\">Φιλοξένου</w>\\n'\n  + '                        <lb n=\"1\"></lb>\\n'\n  + '                    </l>\\n'\n  + '                    <l n=\"1\">\\n'\n  + '                        <w facs=\"urn:cite:perseus:funeraryimg.wUdglRwLMJ6@0.0661,0.5166,0.047,0.0453\">παῖ</w>\\n'\n  + '                        <w facs=\"urn:cite:perseus:funeraryimg.wUdglRwLMJ6@0.1121,0.5227,0.1271,0.0408\">πατέρος</w>\\n'\n  + '                        <w facs=\"urn:cite:perseus:funeraryimg.wUdglRwLMJ6@0.2402,0.5317,0.1061,0.0438\">σαυτοῦ</w>\\n'\n  + '                        <w facs=\"urn:cite:perseus:funeraryimg.wUdglRwLMJ6@0.3453,0.5302,0.1211,0.0498\">πατρὸς</w>\\n'\n  + '                        <w facs=\"urn:cite:perseus:funeraryimg.wUdglRwLMJ6@0.4655,0.5363,0.0871,0.0438\">ἔχων</w>\\n'\n  + '                        <lb n=\"2\"></lb>\\n'\n  + '                    </l>\\n'\n  + '                    <l n=\"1\">\\n'\n  + '                        <w facs=\"urn:cite:perseus:funeraryimg.wUdglRwLMJ6@0.6496,0.5393,0.0551,0.0483\">καὶ</w>\\n'\n  + '                        <w>παραμύθιον</w>\\n'\n  + '                        <w>ἦσθα</w>\\n'\n  + '                        <w>παπωνύμιον</w>\\n'\n  + '                        <w>τε</w>\\n'\n  + '                        <w>γονεῦσι</w>\\n'\n  + '                        <lb n=\"3\"></lb>\\n'\n  + '                    </l>\\n'\n  + '                    <l n=\"1\">\\n'\n  + '                        <w>Νεολλαρίων</w>\\n'\n  + '                        <w>δαίμων</w>\\n'\n  + '                        <w>δέ</w>\\n'\n  + '                        <w>σ\\'</w>\\n'\n  + '                        <w>ἀφείλετο</w>\\n'\n  + '                        <w>πᾶ(σ)ι</w>\\n'\n  + '                        <w>ποθεινόν</w>\\n'\n  + '                        <lb n=\"4\"></lb>\\n'\n  + '                    </l>\\n'\n  + '                </lg>\\n'\n  + '            </div>\\n'\n  + '        </body>\\n'\n  + '    </text>\\n'\n  + '</TEI>\\n'\n\nconst wordStyle = (active) => (\n  active ? { cursor: 'pointer', backgroundColor: '#f6d918' } : { cursor: 'pointer' }\n);\n\nconst renderWord = ({ $, _ }, active, setActive, setFacs, row, index) => {\n  const facs = $ ? $.facs : null;\n  const id = `word-${row}-${index}`;\n  const onMouseDown = () => {\n    setActive(id);\n    setFacs(facs ? facs.split('@')[1].split(',').map(parseFloat) : null);\n  };\n\n  return (\n    <Fragment key={id}>\n      <span style={wordStyle(active === id)} onMouseDown={onMouseDown}>\n        {_}\n      </span>\n      {' '}\n    </Fragment>\n  );\n};\n\nconst renderLine = ({ w }, active, setActive, setFacs, index) => (\n  <Fragment key={`line-${index}`}>\n    {w.map((word, ii) => renderWord(word, active, setActive, setFacs, index, ii))}\n    <br />\n  </Fragment>\n);\n\nconst renderFacs = (facs) => {\n  if (!facs) {\n    return null;\n  }\n  const [x, y, width, height]  = facs.map((n) => n * 100).map((n) => `${n}%`);\n\n  const style = {\n    position: 'absolute',\n    backgroundColor: '#f6d918',\n    opacity: '0.4',\n    left: x,\n    top: y,\n    width: width,\n    height: height,\n  };\n\n  return (\n    <div style={style} />\n  );\n};\n\nconst App = () => {\n  const [active, setActive] = useState(null);\n  const [facs, setFacs] = useState(null);\n\n  const json = xmlToJson(xml);\n\n  const lines = json.TEI.text[0].body[0].div[0].lg[0].l;\n\n  return (\n    <div style={{ display: 'flex' }}>\n      <div style={{ width: '50%', margin: '10px' }}>\n        <pre style={{ overflow: 'scroll' }}>\n          <div style={{ position: 'relative' }}>\n            <div style={{ width: 'max-content', height: 'max-content', position: 'relative' }}>\n              <img src={philostratus} alt=\"tomb\" />\n              {renderFacs(facs)}\n            </div>\n          </div>\n        </pre>\n      </div>\n      <div style={{ width: '50%', margin: '10px', marginTop: '23px' }}>\n        {lines.map((line, ii) => renderLine(line, active, setActive, setFacs, ii))}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import App from './App';\n\nexport default App;\n","import { parseString } from 'xml2js';\n\nconst xmlToJson = (xml) => {\n  let json;\n  parseString(xml, { explicitCharkey: true }, (_err, result) => {\n    json = result;\n  });\n\n  return json;\n};\n\nexport {\n  xmlToJson,\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}